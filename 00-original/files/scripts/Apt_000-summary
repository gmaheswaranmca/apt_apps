rainbow - violet, quick, hurricane, excel
quick - apple, bag, fortune, moon, sun

F:\v2m\techLang\assignment\9999-Fr2020-Maheswaran\Work\0002\Angular\appsFoundation
F:\v2m\techLang\assignment\2020-07-08-Apt-BulkQuestions\automate\app
F:\v2m\techLang\assignment\9999-Fr2020-Maheswaran\Work\0002\Laravel\appFoundation
F:\v2m\techLang\assignment\2020-07-08-Apt-BulkQuestions\OLT\OLTAppDb
F:\v2m\techLang\dev\php\apt\qnpro


F:\v2m\techLang\assignment\9999-Fr2020-Maheswaran\Work\0002\Spring
------------------------------------------------------------------------------------------------------------
apple, bag, camel, diamond, excel, fortune, galaxy, hurricane, institute, jack/jupiter, king, lemon,
moon, neptune, oxygen, pluto, quick, recent, sapphire, technique, ultra, violet, winner, xerox, year, zenith
------------------------------------------------------------------------------------------------------------
Institute ->  Sat 8am-Sun 8pm -> One Paper -> Old Paper 
Jack -> Monday, Tuesday, Thursday -> 5pm to 6am
	Monday [Old Paper - Verbal] 517->50mins
	Tuesday ... A21-40, B:41-...+First 3,C:1-20
	Thursday ... galaxy, Post Assessment Test [sending...]
King -> Mon, Tue, Wed, Thu, Fri, Sat -> 5pm to 6am
	Mon 	Jack Reasoning [sending...]
	Tue		imm
	Wed		imm
	Thu		imm
	Fri 	imm	
	Sat 	imm
------------------------------------------------------------------------------------------------------------
Mar2021 - Rs125 x 5 = 625
(00)09Tue->LoginIDs
(01)09Tue (02)10Wed (03)11Thu (04)12Fri (05)13Sat
Jan2021
(00)16Sat->LoginIDs
(01)17Sun (02)18Mon (03)19Tue (04)20Wed (05)21Thu

------------------------------------------------------------------------------------------------------------
011(Time Speed, Distance)012(Percentages)021(Time & Work)022(Chain Rule)023(Profit & Loss)031(Number System)032(Problems on Ages)
041(HCF, LCM)042(Surds & Indices)051(Logarithms)052(Ratios & Proportions)061(Permutations & Combinations)062(Probability)
071(Directions)072(Statements & Conclusion)081(Coding & Decoding)082(Reasoning)091(Data-Interpretation)092(Reasoning)
101(C Language)111(Missing Numbers)112(Data Structures)121(Technical)122(Quants)123(Technical)
------------------------------------------------------------------------------------------------------------
Camel -> 
Dates: 01-Oct-2020 - 
Sno Date	Qns Mins Time 			Topics			
01	01Thu	35  50   0500PM0900AM	011,012<-Copy:501|0135
02	02Fri 	30  50   0500PM0900AM	021,022,023<-Copy:502|0130
03	03Sat 	40  50   0500PM0900AM	031,032<-Copy:503|0140
04	05Mon 	30  50   0500PM0900AM	021,022,023<-Copy:502|0135
05	06Tue 	xx  50   0500PM0900AM	<-new|0105,4012|1519,
------------------------------------------------------------------------------------------------------------
SDM
01-A - 20Qns 20min - (Quants) -> 1-20
01-B - 30Qns 20min - (Reasoning) -> 1-30
01-C - 40Qns 20min - (Verbal) -> 1-40
-------------------------------------------------------------------------------------------------------------------
A-apple (TP 1-8 -> 5-5,6) (TP 9-15 -> 7-9,10)
01   [0040]- 11 Jul 2020,Sat - (40 questions: 50 mins) – (Time Speed, Distance) (Percentages) Rs500
02   [0070]- 12 Jul 2020,Sun - (30 questions: 50 mins) - (Time & Work), (Chain Rule), (Profit & Loss) Rs500
03   [0110]- 13 Jul 2020,Mon - (40 questions: 50 mins) - (Number System), (Problems on Ages) Rs500
04   [0160]- 14 Jul 2020,Tue - (50 questions: 50 mins) - (HCF, LCM), (Surds & Indices) Rs500
05   [0200]- 15 Jul 2020,Wed - (40 questions: 50 mins) - (Logarithms), (Ratios & Proportions) -> 1-10,11-30 Rs500
06   [0245]- 16 Jul 2020,Thu - (45 questions: 50 mins) - (Permutations & Combinations), (Probability) -> 1-25,26-45 Rs500
07   [0285]- 17 Jul 2020,Fri - (40 questions: 50 mins) - (Directions), (Statements & Conclusion) -> 1-20,21-40 Rs500
08   [0325]- 18 Jul 2020,Sat - (40 questions: 50 mins) - (Coding & Decoding), (Reasoning) -> 1-20,21-40 Rs500
09   [0365]- 19 Jul 2020,Sun - (40 questions: 50 mins) - (Data-Interpretation), (Reasoning) 1-20, 21-40 Rs500
10   [0405]- 20 Jul 2020,Mon - (40 questions: 50 mins) - (C Language) -> 1-40 Rs500
11   [0455]- 21 Jul 2020,Tue - (50 questions: 50 mins) - (Missing Numbers), (Data Structures) -> 1-20,21-50 *****STOPPED***** Rs500
5124 [0495]- - 40 Qns, 40 mins - (Technical), (Quants), (Technical) -> 1-15, 16-25, 26-40
12 - 22 Jul 2020,Wed Rs250
   A Quants	 	- 15Qns,15 mins	<- SDM-A(1-15)
   B Reasoning	- 15Qns,15 mins	<- SDM-B(1-15)
   C Verbal		- 15Qns,15 mins	<- SDM-C(1-15)
   D Technical	- 15Qns,15 mins	<- 5124 (1-15)
13 - 23 Jul 2020,Thu Rs250
   A Quants		- 15Qns,15 mins	<- SDM-A(16-20),5124(16-25)
   B Reasoning	- 15Qns,15 mins	<- SDM-A(16-30)
   C Verbal		- 15Qns,15 mins	<- SDM-A(16-30)
   D Technical	- 15Qns,15 mins	<- 5124(26-40)
-------------------------------------------------------------------------------------------------------------------
B-bag (TP 1-6 -> 12-7,8)
01 - 21 Jul 2020,Tue - (45 questions: 50 mins)- (Permutations & Combinations), (Reasoning) ->1-25,26-45 Rs125
->[0000]apple 06(1:25),08->21-40
02 - 22 Jul 2020,Wed - (30 questions: 50 mins) - (Logarithms), (Reasoning) -> 1-10,11-30 Rs125
->[0000]apple 05(1:10),09->21-40
03 - 23 Jul 2020,Thu - SDM Part C(1-40)
04 - 24 Jul 2020,Fri - (30 questions: 50 mins)- (Probability) -> 1-30 
->[0010]apple 06(26:45),new(21-30)
05 - 25 Jul 2020,Sat - (40 questions: 50 mins) -  (Data-Sufficiency), (Statements & Conclusion) -> 1-20,21-40
->[0030]new(1-20),apple 07(21-40)
06 - 26 Jul 2020,Sun - (60 questions: 50 mins)- (Verbal Ability) -> 1-60 Rs500
->[0090]new(1-60)

-------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------
INSERT INTO aa_make_score
  (report_name, test_papers, field_list, field_caption, user_list, is_active)
SELECT report_name, test_papers, field_list, field_caption, user_list, is_active
FROM aa_make_score
WHERE (report_id BETWEEN 3 AND 6);


ALTER TABLE assignment_users 
ADD COLUMN `shuffled_qn_ids` VARCHAR(8000) NOT NULL DEFAULT '' AFTER `user_id`;

ALTER TABLE assignment_users 
ADD COLUMN `answered_ids` VARCHAR(8000) NOT NULL DEFAULT '' AFTER `user_id`;

ALTER TABLE assignment_users 
ADD COLUMN `shuffled_qn_ids` VARCHAR(8000) NOT NULL DEFAULT '' AFTER `user_id`,
ADD COLUMN `answered_ids` VARCHAR(8000) NOT NULL DEFAULT '' AFTER `shuffled_qn_ids`;

INSERT INTO apt_tp_rule(tp_id)
SELECT id FROM quizzes;


-- Score Making
SELECT au.user_id,ass.id, count(qn.id) qns,au.answered_ids,
  SUM(CASE WHEN au.answered_ids like concat('%',qn.id,':-1%') OR au.answered_ids=' ' THEN 1 ELSE 0 END) not_answered,
  count(qn.id)-SUM(CASE WHEN au.answered_ids like concat('%',qn.id,':-1%') OR au.answered_ids=' ' THEN 1 ELSE 0 END) answered,
  SUM(CASE WHEN au.answered_ids like concat('%',qn.id,':',qa.id,'%') THEN 1 ELSE 0 END) score
FROM questions qn inner join
question_groups qg on(qn.id=qg.question_id) inner join
answers qa on(qg.id=qa.group_id and qa.correct_answer=1) inner join
assignments ass on(qn.quiz_id=ass.quiz_id) inner join
assignment_users au on(ass.id=au.assignment_id)
WHERE -- user_id=31 and
  ass.id=9
GROUP BY au.user_id,ass.id;

https://www.sitepoint.com/synchronize-php-mysql-timezone-configuration/


SET GLOBAL group_concat_max_len = 8000;
SELECT quiz.quiz_id, quiz.quiz_name, quiz.about_quiz,
    quiz.qn_count, IFNULL(GROUP_CONCAT(ass.user_list SEPARATOR '\n\n\n'), 'NOT ASSIGNED') assignment
    FROM
    (SELECT q.id quiz_id, q.quiz_name, q.quiz_desc about_quiz, count(qn.id) qn_count
     FROM quizzes q INNER JOIN questions qn ON(q.id=qn.quiz_id) GROUP BY q.id
     ) quiz
    LEFT JOIN
      (SELECT agn.id, agn.quiz_id, agn.pass_score qz_count, agn.quiz_time qz_time,
CONCAT(agn.pass_score, ' Qns, ', agn.quiz_time, ' Mins\n',GROUP_CONCAT(UserName SEPARATOR ', ')) user_list FROM
assignments agn
INNER JOIN assignment_users au ON(agn.id = au.assignment_id)
INNER JOIN users u ON(au.user_id = u.UserID)
GROUP BY agn.id) ass ON (quiz.quiz_id = ass.quiz_id)
    GROUP BY quiz.quiz_id
;

SELECT agn.id, agn.quiz_id, agn.pass_score qz_count, agn.quiz_time qz_time,
GROUP_CONCAT(UserName SEPARATOR ', ') user_list FROM
assignments agn
INNER JOIN assignment_users au ON(agn.id = au.assignment_id)
INNER JOIN users u ON(au.user_id = u.UserID)
GROUP BY agn.id


DELETE FROM assignment_users
WHERE assignment_id=12
AND user_id IN(
  SELECT UserID /* ,Name */ from users
  WHERE UserName in('H020')
);

'H004','H006','H010','H020','H031','H052','H067', 'H069','H086','H091','H092','H096' <- Test 3 Blocked
'H004','H006','H020','H052','H067','H086','H091','H092' <- Test 4 Blocked 'H010', 'H031', 'H069', 'H096'  <- Test 4 Added 
'H020' <- Test 5 Blocked 'H004','H006','H052','H067','H086','H091','H092' Test 5 Added

SELECT DATE_FORMAT(CONVERT_TZ(added_date,'+00:00','+09:30'),'%l:%i %p') FROM user_quizzes WHERE assignment_id=6;
------------------------------
ALTER TABLE `t20apt02bag`.`assignment_users` 
 ADD COLUMN `qns_time_spent` VARCHAR(8000) NOT NULL DEFAULT ' ' AFTER `answered_ids`,
ADD COLUMN `qns_visited` VARCHAR(8000) NOT NULL DEFAULT ' ' AFTER `qns_time_spent`,
 ADD COLUMN `time_test_init` DATETIME AFTER `qns_visited`,
 ADD COLUMN `time_test_start` DATETIME AFTER `time_test_init`,
 ADD COLUMN `time_test_lastqn_answered` DATETIME AFTER `time_test_start`,
 ADD COLUMN `time_test_end` DATETIME AFTER `time_test_lastqn_answered`,
 ADD COLUMN `count_qns_answered` INTEGER UNSIGNED NOT NULL DEFAULT 0 AFTER `time_test_end`,
 ADD COLUMN `count_qns_correct` INTEGER UNSIGNED NOT NULL DEFAULT 0 AFTER `count_qns_answered`,
 ADD COLUMN `count_qns_visited` INTEGER UNSIGNED NOT NULL DEFAULT 0 AFTER `count_qns_correct`,
 ADD COLUMN `count_test_page_away` INTEGER UNSIGNED NOT NULL DEFAULT 0 AFTER `count_qns_visited`,
 ADD COLUMN `count_test_app_away` INTEGER UNSIGNED NOT NULL DEFAULT 0 AFTER `count_test_page_away`;
------------------------------------------


SET GLOBAL group_concat_max_len = 8000;
UPDATE qn_data qn INNER JOIN (
SELECT qno.qn_id,
	CONCAT('[',GROUP_CONCAT(CONCAT('{"id":',qno.option_id,',"option":"', replace(qno.option_text,'"','\\"'),'"}') ORDER BY qno.sno), ']') options,
    MAX(CASE WHEN qno.is_answer=1 THEN qno.option_id ELSE 0 END) option_top
 FROM
    qn_option qno
 GROUP BY qno.qn_id
)qnopt ON qn.qn_id=qnopt.qn_id SET qn.qn_option=qnopt.options, qn.qn_option_top=qnopt.option_top;
------------------------------------------

INSERT INTO apt_tp_rule
SELECT id, ''  FROM quizzes WHERE id not in(SELECT tp_id from apt_tp_rule);
------------------------------------------


INSERT INTO tcode_assess_user(assess_id, user_id, user_ass_status, user_secure_score)
SELECT b.assess_id, a.UserID user_id, 0 user_ass_status, 0 user_secure_score
FROM `users` a  INNER JOIN `tcode_assess_base` b ON(1=1)
WHERE b.assess_id IN(1) AND (a.UserID>1);
-------------------------------------------------
UPDATE answers SET answer_text = REPLACE(answer_text, 'â€œ', '\"');
UPDATE answers SET answer_text = REPLACE(answer_text, 'â€', '\"');
UPDATE answers SET answer_text = REPLACE(answer_text, 'â€˜', '\'');
UPDATE answers SET answer_text = REPLACE(answer_text, 'â€™', '\'');
UPDATE answers SET answer_text = REPLACE(answer_text, 'Â½', '(1/2)');
UPDATE answers SET answer_text = REPLACE(answer_text, 'Â¼', '(1/4)');
UPDATE answers SET answer_text = REPLACE(answer_text, 'Â°', '&deg;');
UPDATE answers SET answer_text = REPLACE(answer_text, 'âˆš', '&radic;');
-------------------------------------------------
To check load:
-------------------------------------------------
Vardhaman Training
9 - 11				-> 
11.15 - 1.15		-> Maheswaran
2-4					->
-------------------------------------------------
SQL Server Downloads
	http://www.hanselman.com/blog/download-sql-server-express
	
	express edition
		-> sql authentication, password: 1234
-------------------------------------------------
-- UPDATE tcode_q_base SET question_id=question_id+300;
-- UPDATE tcode_q_testcase SET question_id=question_id+300, testcase_id=testcase_id+2000;
-- INSERT INTO t20apt00.tcode_q_base SELECT * FROM tcode_q_base;
-- INSERT INTO t20apt00.tcode_q_testcase SELECT * FROM tcode_q_testcase;

-- UPDATE tcode_q_base SET lang_code='java' WHERE question_id>=300;
-------------------------------------------------
-- - 1
ALTER TABLE  tcode_assess_submit_q
	ADD COLUMN `number_of_runs` int(10) unsigned NOT NULL DEFAULT '0',
	ADD COLUMN `number_of_submits` int(10) unsigned NOT NULL DEFAULT '0';
-- - 2~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ALTER TABLE `tcode_assess_base`
  ADD COLUMN `max_runs` VARCHAR(45) NOT NULL DEFAULT 3 AFTER `instructions`;
-- - 3~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ALTER TABLE `tcode_assess_base`
  MODIFY COLUMN `instructions` VARCHAR(8000) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL DEFAULT ' ';
-- -End   
-------------------------------------------------
INSERT INTO tcode_q_base
	(question_id, code_title, code_question, lang_code, level_no, tested_program)
SELECT 
question_id+3, code_title, code_question, lang_code, level_no, tested_program
FROM 
tcode_q_base
WHERE question_id BETWEEN 137 and 139;

INSERT INTO tcode_q_testcase
	(testcase_id, question_id, input, output, point, sno, is_active)
SELECT
testcase_id+15, question_id+3, input, output, point, sno, is_active
FROM
tcode_q_testcase
WHERE question_id BETWEEN 137 and 139;
-------------------------------------------------
Regular for SRT file to replace the time line into non time line
	\d+\r\n\d+:\d+:\d+,\d+\s-->\s\d+:\d+:\d+,\d+.
	
manishashankar2001@gmail.com	
------------------------------------------------------
UPDATE questions
SET
   question_text = replace(question_text,
      'SPOTTING OF ERRORS:',
      'SPOTTING OF ERRORS (Whichever part has an error, mark that part as your answer):')
where question_text like '%SPOTTING OF ERRORS:%'
------------------------------------------------------
mvn archetype:generate -DgroupId=com.bharath -DartifactId=proj-one -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false
------------------------------------------------------